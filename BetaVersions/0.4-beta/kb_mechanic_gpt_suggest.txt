import keyboard

# Словарь для соответствия русских символов английским
layout_mapping = {
    'й': 'q', 'ц': 'w', 'у': 'e', 'к': 'r', 'е': 't', 'н': 'y', 'г': 'u', 'ш': 'i', 'щ': 'o', 'з': 'p',
    'х': '[', 'ъ': ']', 'ф': 'a', 'ы': 's', 'в': 'd', 'а': 'f', 'п': 'g', 'р': 'h', 'о': 'j', 'л': 'k',
    'д': 'l', 'ж': ';', 'э': "'", 'я': 'z', 'ч': 'x', 'с': 'c', 'м': 'v', 'и': 'b', 'т': 'n', 'ь': 'm',
    'б': ',', 'ю': '.', '.': '.', ',': ',', '/': '/'
}

def translate_layout(event):
    if event.event_type == keyboard.KEY_DOWN:
        if event.name in layout_mapping:
            # Заменяем русский символ на английский
            keyboard.press(layout_mapping[event.name])
            keyboard.release(layout_mapping[event.name])
        else:
            # Если символ не требует замены, просто передаем его
            keyboard.press(event.name)
            keyboard.release(event.name)

# Запускаем перевод клавиш
keyboard.hook(translate_layout)

# Запускаем программу, которая принимает ввод
# Например, ваш код обработки ввода здесь

# Ждем, пока пользователь не нажмет Esc для выхода
keyboard.wait('esc')
